
## Задача 1

Дайте письменые ответы на следующие вопросы:

- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?   
*Replication - docker Swarm разворачивает то количество реплик, которое мы ему укажем в конфигурации. Global - контейнеры будут развернуты на всех нодах кластера*   
- Какой алгоритм выбора лидера используется в Docker Swarm кластере?   
*Алгоритм RAFT. Изначально все ноды запускаются в состоянии follower. Затем ожидают election таймаут (рандомизирован от 150 до 300мс). После того как election таймаут истечет нода становится кандидатом и начинает рассылать свои голоса (request votes) в сеть. Если другие ноды еще не стали кандидатом, то они сбрасывают свой election таймер и отдают голос за существующего кандидата. Когда кандидит получает большинство голосов он становится лидером. Затем лидер отправляет остальным нодам так называемое сообщение Append Entries (heartbeat). Когда followers получают хертбиты от лидера их election timeout постоянно обнуляется. Как только перестают получают, election timeout истекает и нода, которая быстрее стала кандидатом отправляет свой request votes и должна получить большее кол-во голосов, чтобы стать новым лидером. Как я понимаю именно этот алгорит реализует теорему CAP (доступность + конситстентность) в docker swarm*
- Что такое Overlay Network?   
*Оверлей сеть - это некая логическая сеть построенная поверх существующей сети между хостами для взаимодействия докер контейнеров (докер демонов) между собой в кластере swarm*

## Задача 2

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker node ls
```
<img width="600" alt="image" src="https://user-images.githubusercontent.com/87580669/183083407-edfc273c-7317-4844-b8ef-e117f226fdcd.png">

## Задача 3

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker service ls
```
<img width="665" alt="image" src="https://user-images.githubusercontent.com/87580669/183087207-69959083-b169-4b53-8e9e-c72e24f2f5a4.png">


## Задача 4 (*)

Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:
```
# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
```

*Когда докер перезапускается его ключ TLS, а также ключ для шифрования данных между узлами swarm кластера выгружается в память всех менеджер нод. Когда ключ autolock в true, то прежде чем снова запустить менеджер-ноду нужно указать ему ключ разблокировки и только потом нода будет включена в кластер. Сделано это для повышения безопасности swarm кластера (защита ключа TLS и ключа, шифрующего обмен данными между swarm нодами - raft logs)*

<img width="797" alt="image" src="https://user-images.githubusercontent.com/87580669/183093627-467d0098-2c4c-490c-89e0-ce7771c9a168.png">
